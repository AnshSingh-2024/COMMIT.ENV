<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Hub - HomeHarvest AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="theme-loader.js"></script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .modal-open { overflow: hidden; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        .form-input { @apply mt-1 block w-full rounded-md border-gray-300 bg-white dark:border-gray-600 dark:bg-gray-700 shadow-sm focus:border-green-500 focus:ring-green-500 transition; }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { 'inter': ['Inter', 'sans-serif'] },
                    colors: {
                        'green': { 50: '#f0fdf4', 100: '#dcfce7', 200: '#bbf7d0', 300: '#86efac', 400: '#4ade80', 500: '#22c55e', 600: '#16a34a', 700: '#15803d', 800: '#166534', 900: '#14532d' },
                        'offwhite': {50: '#F2F0EF'}
                    }
                }
            }
        }
    </script>
</head>
<body class="font-inter bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200">
    <nav class="fixed top-0 w-full bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-green-100 dark:border-gray-800 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="index.html" class="flex-shrink-0">
                        <h1 class="text-2xl font-bold text-green-600">ðŸŒ± HomeHarvest AI</h1>
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-center">
                        <div class="flex items-baseline space-x-4">
                           <a href="index.html" class="nav-link text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium">Home</a>
                            <a href="kitchen.html" class="nav-link text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium">My Kitchen</a>
                            <a href="garden.html" class="nav-link text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium">Smart Garden</a>
                            <a href="community.html" class="nav-link text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-3 py-2 rounded-md text-sm font-medium">Community</a>
                            <a href="about.html" class="nav-link text-gray-700 dark:text-gray-300 hover:text-green-600 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium">About</a>
                        </div>
                        <button id="theme-toggle" class="ml-6 p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800">
                            <svg id="theme-toggle-dark-icon" class="hidden h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                            <svg id="theme-toggle-light-icon" class="hidden h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 10.607a1 1 0 011.414-1.414l-.707-.707a1 1 0 01-1.414 1.414l.707.707zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section class="pt-20 pb-16 bg-gradient-to-br from-green-50 to-white dark:from-gray-900 dark:to-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-6">Community Hub <span class="text-green-600 dark:text-green-400">Connect & Share</span></h1>
                <p class="text-lg text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto">Join a vibrant community of sustainable living enthusiasts. Share recipes, gardening tips, and earn points as you engage with others.</p>
            </div>
        </div>
    </section>

    <section class="py-16 bg-white dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="border-b border-gray-200 dark:border-gray-700 mb-8">
                <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                    <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-green-600 border-green-500" data-tab="recipes">Shared Recipes</button>
                    <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300" data-tab="forum">Discussion Forum</button>
                    <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300" data-tab="leaderboard">Leaderboard</button>
                </nav>
            </div>
            <div>
                <div id="recipes-panel" class="tab-panel">
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
                        <h2 class="text-2xl font-bold">Community Recipes</h2>
                        <div class="flex items-center gap-4 w-full sm:w-auto">
                            <input type="search" id="recipe-search-input" placeholder="Search recipes..." class="form-input bg-offwhite-50 w-full rounded h-9 px-1 sm:w-64 dark:bg-gray-700 ">
                            <button id="share-recipe-btn" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg flex-shrink-0">Share Recipe</button>
                        </div>
                    </div>
                    <div id="recipes-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                    <div id="recipes-pagination-controls" class="flex justify-center items-center space-x-2 mt-8"></div>
                </div>
                <div id="forum-panel" class="tab-panel hidden">
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4">
                        <h2 class="text-2xl font-bold">Discussions</h2>
                        <div class="flex items-center gap-4 w-full sm:w-auto">
                            <input type="search" id="forum-search-input" placeholder="Search discussions..." class="form-input bg-offwhite-50 w-full rounded h-9 px-1 sm:w-64 dark:bg-gray-700 ">
                            <button id="ask-question-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg flex-shrink-0">Ask Question</button>
                        </div>
                    </div>
                    <div id="forum-container" class="space-y-4"></div>
                    <div id="forum-pagination-controls" class="flex justify-center items-center space-x-2 mt-8"></div>
                </div>
                <div id="leaderboard-panel" class="tab-panel hidden max-w-2xl mx-auto">
                     <h2 class="text-2xl font-bold text-center mb-6">Top Harvesters</h2>
                     <div id="leaderboard-container" class="space-y-3"></div>
                </div>
            </div>
        </div>
    </section>

    <div id="share-recipe-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[60] p-4 animate-fade-in"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col"><div class="p-6 border-b dark:border-gray-700"><h3 class="text-xl font-bold">Share Your Recipe</h3></div><div class="p-6 overflow-y-auto"><form id="share-recipe-form" class="space-y-4"><div><label for="recipe-name" class="block text-sm font-medium">Recipe Name</label><input type="text" id="recipe-name" required class="form-input  w-full rounded px-1 h-8 bg-offwhite-50 dark:bg-gray-700 "></div><div><label for="recipe-description" class="block text-sm font-medium">Description</label><textarea id="recipe-description" required rows="2" class="form-input w-full rounded px-1 h-16 bg-offwhite-50 dark:bg-gray-700"></textarea></div><div><label for="recipe-diet-type" class="block text-sm font-medium">Diet Type</label><select id="recipe-diet-type" class="form-input w-full rounded px-1 h-8 bg-offwhite-50 dark:bg-gray-700 "><option>Veg</option><option>Non-Veg</option><option>Vegan</option></select></div><div class="pt-2"><h4 class="font-semibold mb-2">Ingredients</h4><div id="ingredients-list" class="space-y-2 max-h-48 overflow-y-auto pr-2"></div><button type="button" id="add-ingredient-btn" class="mt-2 text-sm text-green-600 hover:underline">+ Add Ingredient</button></div><div class="pt-2"><h4 class="font-semibold mb-2">Instructions</h4><div id="instructions-list" class="space-y-2 max-h-48 overflow-y-auto pr-2"></div><button type="button" id="add-instruction-btn" class="mt-2 text-sm text-green-600 hover:underline">+ Add Instruction</button></div></form></div><div class="p-4 mt-auto bg-gray-50 dark:bg-gray-800 border-t dark:border-gray-700 flex justify-end gap-4"><button type="button" class="modal-cancel-btn bg-gray-200 dark:bg-gray-600 font-medium py-2 px-4 rounded-lg">Cancel</button><button type="submit" form="share-recipe-form" class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg">Post Recipe</button></div></div></div>
    <div id="view-recipe-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[60] p-4 animate-fade-in"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col"><div class="flex justify-between items-center p-4 border-b dark:border-gray-700"><h2 id="view-recipe-title" class="text-2xl font-bold">Recipe</h2><button class="modal-close-btn text-gray-500 hover:text-gray-800 text-3xl">&times;</button></div><div class="p-6 overflow-y-auto"><p class="text-sm text-gray-500 mb-1" id="view-recipe-author"></p><p class="mb-6" id="view-recipe-description"></p><div class="grid md:grid-cols-2 gap-6"><div><h4 class="font-bold text-lg mb-2">Ingredients</h4><ul id="view-recipe-ingredients" class="list-disc list-inside space-y-1"></ul></div><div><h4 class="font-bold text-lg mb-2">Instructions</h4><ol id="view-recipe-instructions" class="list-decimal list-inside space-y-2"></ol></div></div></div><div id="view-recipe-footer" class="p-4 mt-auto"></div></div></div>
    <div id="ask-question-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[60] p-4 animate-fade-in"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg"><div class="p-6"><h3 class="text-xl font-bold mb-4">Ask a Question</h3><form id="ask-question-form" class="space-y-4"><div><label for="question-title" class="block text-sm font-medium ">Title</label><input type="text" id="question-title" required class="form-input w-full rounded shadow-sm border-gray-600 text-gray-800 dark: bg-gray-900 "></div><div><label for="question-content" class="block text-sm font-medium">Question</label><textarea id="question-content" required rows="4" class="form-input"></textarea></div><div class="mt-6 flex justify-end gap-4"><button type="button" class="modal-cancel-btn bg-gray-200 dark:bg-gray-600 font-medium py-2 px-4 rounded-lg">Cancel</button><button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg">Post Question</button></div></form></div></div></div>
    <div id="view-post-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[60] p-4 animate-fade-in"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col"><div class="flex justify-between items-center p-4 border-b dark:border-gray-700"><h2 id="view-post-title" class="text-2xl font-bold">Discussion</h2><button class="modal-close-btn text-gray-500 hover:text-gray-800 text-3xl">&times;</button></div><div class="p-6 overflow-y-auto"><p class="text-sm text-gray-500 mb-1" id="view-post-author"></p><div class="prose dark:prose-invert max-w-none" id="view-post-content"></div><hr class="my-6"><h3 class="text-lg font-bold mb-4">Answers</h3><div id="view-post-answers" class="space-y-4"></div><form id="add-answer-form" class="mt-6 pt-6 border-t dark:border-gray-700"><h4 class="font-semibold mb-2">Your Answer</h4><textarea id="answer-content" required rows="3" class="form-input"></textarea><button type="submit" class="mt-2 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg">Submit Answer</button></form></div></div></div>
    <div id="loader-modal" class="fixed inset-0 bg-black bg-opacity-60 hidden items-center justify-center z-[70]"><div class="text-center text-white"><div style="border:4px solid #fff3;border-top-color:#fff;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite" class="mx-auto"></div><p id="loader-text" class="mt-4 text-lg"></p></div></div>

    <footer class="bg-white-900 text-white py-12 dark:bg-gray-900">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-green-400 mb-4">ðŸŒ± HomeHarvest AI</h3>
                <p class="text-gray-400 mb-6">From Garden to Table, Powered by AI</p>
                <div class="border-t border-gray-800 pt-6">
                    <p class="text-gray-400">&copy; 2025 HomeHarvest AI. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="script.js"></script>
</body>
</html>